@[TOC]（项目实战 - 代码架构和运行时架构)

## 1. 作业讲解
1. 泛型擦除  
// 起到一个约束作用，写代码的时候只能是同一类型，在编译生成 Class 字节码后泛型会进行擦除 也就等同于 List list = new ArrayList()// 泛型擦除一般是针对系统自带的，我们自己指定的泛型信息一般都是会保留的

2. 动态监测 View 层的接口
BaseMvpFragment 


## 2. 代码架构和运行时架构（内涵段子）
- 代码架构：与业务逻辑无关，基本上每个项目都要用的，比如访问，网络，图片，Activity，Fragment 等等 (一般是不会变动，多下些功夫)
- 运行时架构：与业务逻辑有关，是这个项目特有的一些功能部分，比如，参数要加密（RSA）单点登录，插件换肤等等（BaseSkinActivity）
xx公司 （股份，10k） 组织代码 代码架构，运行时架构 （7:3 or 6:4） 用视频卖吃东西，直播，换了方向，小程序（2-3年）


## 3. 怎么选择架构层级
1. 所有代码，写在一起也就是都在 app 里面 （外包，一个人做）
2. 按架构层级分层  Base , FrameWorker , App , 每个层次一个模块  （内涵段子）
3. 多模块和多组件开发   （协同，多人开发，方便测试），注意的是不用用蜘蛛网，最好用路由的方式  （1个人）  
      什么是模块什么是组件 ?  
     
    1. 模块更多的是你的项目的功能模块，  
    
    2. 组件一般都是一些小型的辅助（第三方的自定义View，第三方的一些基础功能）（也可以单独存在于moudle中）  

    <font color=red>处理不好还是会有一些问题的，资源问题，命名不能冲突，针对问题要不断调整？分析经验，我带大家解决问题的方式，解决问题能力</font>


## 4. 怎么选择第三方
1. 熟悉原理（比较重要）开发可控；
2. 选择大多数人选择（国外），问题都解决没？是否停止更新 ，可以依赖多个第三方 
3.要注意解耦（重构，版本迭代） HttpUtils RxLogin RxPay , 图片（工厂设计模式），数据缓存（工厂设计模式） xUtils，AsncHttpClient ，OkHttp 
4. 要站在成员的角度去选择（培训，倒逼） 
5. 等等 （学习模仿）


## 5. 其他的补充
1. 需求文档（吃了很多亏，反思）  自己写需求分析文档（领头人）
2. 不要滥用继承和接口，多用封装   ，   
    Retrofit 封装好用，但是比较死，深度定制的问题（出错率就会大，代码的可读性就会弱） 版本迭代功能扩展比较致命
3. 不要嵌套（直接依赖）  
    1.（内涵端子，每个功能部分都是分开的）   
    2.（注解 AOP 等等）    
    3. IOC(LogUtils 测试的时候去大打印日志，检测是否登录) 
4. 问题的解决方式多种，找最简单的 （《墨菲定律》）  
微博分享 singleInstance Unity ,  2.写一个新的 Activity 一开启就去分享，分享完毕把当前Activity关闭掉，3. 微博Activity主题采用的是透明的，去掉透明
















































































​     


